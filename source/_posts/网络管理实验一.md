---
title: 网络管理实验(一)
date: 2021-10-11 23:26:16
tags:
categories:
  - 想要毕业
  - 网络管理
description: 实验报告
cover:
katex:
---

# 网络管理 实验一

## 简单网络管理协议 SNMP 的使用及 SNMP MIB 信息的访问

15030130009 沈昊

### 一、实验目的

学习SNMP服务在主机上的启动与配置，掌握用MIB浏览器访问SNMP MIB对象值得方法，加深对 MIB 组织结构的了解和 SNMP 的基本操作。

### 二、实验要求

用户可以使用 SNMP 服务来收集数据。snmputil 是一种网络管理工具，可以读取被管理网络设备的 SNMP MIB 变量。通过此软件，读取三个被管设备的 MIB 参数，每个被管设备至少读取 5 个不同参数。

### 三、实验步骤:

1. 从服务器下载实验说明;
2. 完成实验;
3. 撰写实验报告，通过 FTP 上传到服务器。

#### 下载实验材料

1. 连接老师提供的局域网，下载实验说明：

   ![image-20210928083512542](https://img.foopi.top/postpic/image-20210928083512542.webp)

2. 最终实验报告通过ftp上传，账号为学号，密码为六个1。

#### SNMP 服务的启动和配置

1. 安装组件![image-20210928084242520](https://img.foopi.top/postpic/image-20210928084242520.webp)

   

   ![image-20210928084359553](https://img.foopi.top/postpic/image-20210928084359553.webp)

   ![image-20210928085225908](https://img.foopi.top/postpic/image-20210928085225908.webp)此过程需要联网安装，过程稍慢。

2. 查看SNMP组件是否安装成功![image-20210928085507461](https://img.foopi.top/postpic/image-20210928085507461.webp)

3. 配置SNMP服务![image-20210928085727885](https://img.foopi.top/postpic/image-20210928085727885.webp)

4. 重新启动SNMP服务

5. 查看161端口是否开启![image-20210928085914329](https://img.foopi.top/postpic/image-20210928085914329.webp)

#### SNMPUTIL软件的使用

将 Snmputil.exe 文件放在目录`C:\Users\foo\tmp`下，打开 cmd 命令，(cd)进入到本程序目录，输入 snmputil 相关命令即可使用。

snmputil 是程序名

get 理解成获取一个信息

getnext 理解成获取下一个信息

walk 理解成获取一堆信息(所有数据库子树/子目录的信息) 

agent 具体某台机器

community “community strings”“查询密码”

oid 是物件识别代码(Object Identifier)

可以把 oid 理解成 MIB 管理信息库中各种信息分类存放树资源的一个数字标识。

1. 查看 snmputil.exe 程序是否可以用![image-20210928090628128](https://img.foopi.top/postpic/image-20210928090628128.webp)

2. 确认本地ip地址

   虚拟机内需要设置桥接网络：

   ![image-20210928091250840](https://img.foopi.top/postpic/image-20210928091250840.webp)

   获取本地IP地址为`192.168.1.182`

#### Snmputil 使用实例

1. 查看本地计算机的信息

   通过对系统组的 MIB 对象的查阅，我们知道系统信息所对应的 MIB 对象为.1.3.6.1. 2.1.1.1(参看系统组对象)，我们使用 get 参数来查询:

   ![image-20210928091451682](https://img.foopi.top/postpic/image-20210928091451682.webp)

   其中 public 是 192.168.0.3 计算机上的团体名，.1.3.6.1.2.1.1.1.0 是对象实例,注意 对象 ID 前面要加一个点"."，后面还要加一个"0"。如果不在对象 ID 末尾加上一个 0，那么 用 get 参数查询就会出错。从查询结果中我们能够看出操作系统版本和 CPU 类型。

2. 查询计算机连续开机多长时间

   ![image-20210928091557551](https://img.foopi.top/postpic/image-20210928091557551.webp)

   ![image-20210928091659949](https://img.foopi.top/postpic/image-20210928091659949.webp)

3. 查询计算机的联系人

   ![image-20210928091756598](https://img.foopi.top/postpic/image-20210928091756598.webp)

4. 使用 walk 查询设备上所有正在运行的进程:

   ![image-20210928091901036](https://img.foopi.top/postpic/image-20210928091901036.webp)

5. 查询计算机上面的用户列表

   ![image-20210928092032182](https://img.foopi.top/postpic/image-20210928092032182.webp)

   从中我们可以得知该计算机共有5个用户，它们分别为 foo、guest、administrator、defaultaccount、wdagutilityaccount。

6. trap

   Snmputil 还有一个 trap 的参数，主要用来陷阱捕捉，它可以接受代理进程上主动发 来的信息。如果我们在命令行下面输入snmputil trap后回车，然后用错误的团体名来访问 代理进程，这时候就能收到代理进程主动发回的报告。

#### 小结

在 MIBII 中总共有 175 个对象，每个对象均有其不同的含义，我们只有通过查阅 M IB 才能知道它们各自的作用。MIB 对象是 SNMP 网络管理中的核心内容，只有深入了解 M IB 对象的含义我们才有可能知道如何去驾驭 SNMP 网络管理。

![image-20210928094546700](https://img.foopi.top/postpic/image-20210928094546700.webp)

